build:
    environment:
        php:
            version: 8.3.3
            pecl_extensions:
                - pcov
        postgresql: false
        redis: false
        rabbitmq: false
        mysql: 5.6
    nodes:
        tests:
            cache:
                directories:
                    - vendor/
            dependencies:
                override:
                    - wget https://www.phing.info/get/phing-latest.phar && mv phing-latest.phar phing && chmod +x phing
            tests:
                override:
                    -
                        command: ./phing scrutinizer
                        analysis:
                            file: codesniffer.xml
                            format: 'general-checkstyle'
                        coverage:
                            file: coverage.xml
                            format: php-clover
                    - php-scrutinizer-run
